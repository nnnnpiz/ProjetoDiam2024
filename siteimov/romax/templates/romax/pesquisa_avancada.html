{% extends 'romax/base_page.html' %}

{% block css_of_rest_of_page %}

    body{
        background-color: #dee9ff;
    }
    .main_nav{
        padding: 50px 0;
    }

    .main_nav form{
        background-color: #fff;
        max-width: 1200px;
        width:70%;
        margin: auto;
        padding: 50px 70px;
        border-top-left-radius: 30px;
        border-top-right-radius: 30px;
        box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);
    }

    .main_nav .form_block{
        text-align: center;
        background-color: #5891ff;
        border-radius: 50%;
        font-size: 40px;
        color: white;
        width: 100px;
        height: 100px;
        margin: auto;
        margin-bottom: 50px;
        line-height: 100px;
    }
    .main_nav .form_control {
        border-radius: 20px;
        margin-bottom: 25px;
        padding: 10px 20px;
    }

    .main_nav .titles{
        font-family: Arial, sans-serif;
        margin: 20px auto;
        margin-bottom: 15px;
        border-radius: 5px;
    }

    .main_nav .mini_titles{
        font-family: Arial, sans-serif;
        padding-bottom: 60px;
        margin: 20px auto;
        border-radius: 5px;
        font-weight: bold;
        margin-bottom: 15px;
        padding-bottom:30px;
    }

    input{
        text-align:middle;
    }

{% endblock %}

{% block rest_of_page %}
    <body>
    <div class="main_nav">
        <form action="" name="filtros" method="post">
            {% csrf_token %}
            <div>
                <h5 class="titles">Localização</h5>
                <input type="text" class="form_control" id="distrito" placeholder="Distrito">
                <input type="text" class="form_control" id="cidade" placeholder="Cidade">
                <br>
                <input type="text" class="form_control" id="freguesia" placeholder="Freguesia" width="150px">
            </div>
            <div>
                <h5 class="titles">Propriedade</h5>
                <select class="form_control" id="tipopropriedade">
                    <option value="" disabled selected>Tipo de Propriedade</option>
                    <option value="0">Apartamento</option>
                    <option value="1">Moradia</option>
                    <option value="2">Outro</option>
                </select>
                <select class="form_control" id="subtipopropriedade">
                    <option value="" disabled selected>Subtipo de Propriedade</option>
                </select>
                <br>
                <select class="form_control" id="classeenergetica">
                    <option value="" disabled selected>Classe Energética</option>
                    <option value="A+">A+</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="B-">B-</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                </select>
                <br>
                <span class="mini_titles">Nº WC's:</span>
                <br>
                <label for="minwc" class="label">Min:</label>
                <input type="number" min="0" class="form_control" id="minwc">
                <br>
                <label for="maxwc" class="label">Máx:</label>
                <input type="number" min="0" class="form_control" id="maxwc">
                <br>
                <span class="mini_titles">Nº quartos:</span>
                <br>
                <label for="minquartos" class="label">Min:</label>
                <input type="number" min="0" class="form_control" id="minquartos">
                <br>
                <label for="maxquartos" class="label">Máx:</label>
                <input type="number" min="0" class="form_control" id="maxquartos">
                <br>
                <span class="mini_titles">Área:</span>
                <br>
                <label for="minarea" class="label">Min:</label>
                <input type="number" min="0" class="form_control" id="minarea" placeholder="m2">
                <label for="maxarea" class="label">Máx:</label>
                <input type="number" min="0" class="form_control" id="maxarea" placeholder="m2">
                <br>
                <span class="mini_titles">Mobilado:</span>
                <br>
                <label for="mobilia" class="label">Sim</label>
                <input id="mobilia" type="radio" class="form_control" value="true">
                <label for="smobilia" class="label">Não</label>
                <input id="smobilia" type="radio" class="form_control" value="false">
                <br>
                <span class="mini_titles">Animais de estimação:</span>
                <br>
                <label for="animais" class="label">Sim</label>
                <input id="animais" type="radio" class="form_control" value="true">
                <label for="sanimais" class="label">Não</label>
                <input id="sanimais" type="radio" class="form_control" value="false">
            </div>
            <div>
                <h5 class="titles">Preço:</h5>
                <label for="minpreco" class="label">Min:</label>
                <input type="number" min="0" class="form_control" id="minpreco" placeholder="€">
                <label for="maxpreco" class="label">Máx:</label>
                <input type="number" min="0" class="form_control" id="maxpreco" placeholder="€">
            </div>
            <div>
                <h5 class="titles">Preço negociável:</h5>
                <label for="negociavel" class="label">Sim</label>
                <input id="negociavel" type="radio" class="form_control" value="true">
                <label for="snegociavel" class="label">Não</label>
                <input id="snegociavel" type="radio" class="form_control" value="false">
            </div>
            <div>
                <h5 class="titles">Ordenar:</h5>
                <select class="form_control" id="ordenar">
                    <option value="" disabled selected>Critério de ordenação</option>
                    <option value="0">Preço ascendente</option>
                    <option value="1">Preço descendente</option>
                    <option value="2">Maior área</option>
                    <option value="3">Menor área</option>
                    <option value="4">Mais recente</option>
                    <option value="5">Mais antigo</option>
                </select>
            </div>
            <input type="submit" class="submitButton" value="Procurar">
        </form>
    </div>
    <script>
        const minPriceInput = document.getElementById("minpreco");
        const maxPriceInput = document.getElementById("maxpreco");

        minPriceInput.addEventListener("change", function() {
          const newMinPrice = parseInt(this.value);
          if(newMinPrice > parseInt(maxPriceInput.value))
            maxPriceInput.value = newMinPrice
        });
    </script>
    </body>
{% endblock %}